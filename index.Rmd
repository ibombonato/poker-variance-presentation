---
title       : Poker Variance Simulator App
subtitle    : See how long term variance in poker can be
author      : Icaro C. Bombonato
job         : Senior Developer at minhavida.com.br
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : standalone # {standalone, draft}
knit        : slidify::knit2slides
output: 
  html_document: 
    theme: flatly
---
```{r, cache=FALSE, results=F, message=F, echo=F}
library(shiny)
library(markdown)
library(zoo)
```
```{r, results=F, message=F, echo=F}
simulateData <- function(winrate, sd, trials){
        all <- data.frame()
        allz <- zoo(all)
        for(i in 1:trials){
            n <- data.frame(X = cumsum(rnorm(1000, winrate/100, sd/100)))
            nz <- zoo(n)        
            allz <- cbind(allz, nz)
        }
        allz
    }
plotData <- function(x, winrate, sd, trials){
        smean <- ifelse(trials > 1, rowMeans(x[nrow(x),]), (x[nrow(x),]))
        plot(x, type = "l", plot.type = "single", col = 1:ncol(x)
             , ylab ="Win buy-ins total"
             , xlab = "Total hands played / 100. (Ex: 1000 = 100.000 hands)"
             , main = paste(trials, "Simulations with", winrate, "bb/100 winrate and", sd, "SD"))
        abline(h = 0, lwd = 2)
        abline(h = smean, lty = 2, lwd = 2)
}
winrate <- 4
sd <- 95
trials <- 25
```

## Purpose

New poker players have problems to understand how variance can impact their results and how it works in the long term.  

This app was created to explain variance for poker players in the long term.  

---

## How it works

Based on two variables that are comom for the players, **Winrate** and **Standard Deviation**, we can plot a simulation of 100k hands played and see the possible outcomes in **Buy-ins**.  

That way, the players can have a clue for what to expect in terms of results (in buy-ins), in a range of 100k hands played based on their win rate and stardard deviation.

---

## What is the results? Real code run example:

After you input your variables, in this case **winrate `r winrate`, sd `r sd` and `r trials` trials**, you will got a plot like the one bellow:

```{r, results='asis', message=F, echo=T, fig.height=5, fig.width=14, cache=FALSE}
winrate <- 4;sd <- 95;trials <- 25
plotData(simulateData(winrate, sd, trials), winrate, sd, trials)
```

---

## Screen Shot

And now, one screen shot of the app running at shinyapps.io:

![width](assets/img/shiny.jpg)